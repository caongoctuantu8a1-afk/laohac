<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Gi·∫£i c·ª©u L√£o H·∫°c</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Segoe UI,sans-serif;background:#000}
#game{
 width:100vw;height:100vh;
 background:
 linear-gradient(to bottom,rgba(0,0,0,.6),rgba(0,0,0,.9)),
 url("laohac1.jpg") center/cover no-repeat;
 color:white;position:relative;
}

/* Top bar */
#topBar{
 position:absolute;top:0;left:0;
 width:100%;height:60px;
 background:rgba(0,0,0,.7);
 display:flex;align-items:center;
 justify-content:space-between;
 padding:0 15px;box-sizing:border-box;
}

#hpWrap{width:180px;height:14px;border:2px solid white;border-radius:10px;overflow:hidden}
#hpBar{height:100%;background:linear-gradient(to right,#00ff55,#aaff00);width:100%}

/* Question */
#questionBox{
 position:absolute;bottom:40px;left:50%;
 transform:translateX(-50%);
 width:92%;max-width:700px;
 background:rgba(0,0,0,.85);
 border-radius:20px;padding:20px;
 box-shadow:0 0 40px rgba(255,200,50,.4);
}

#q{font-size:20px;font-weight:bold;margin-bottom:10px}
textarea{width:100%;height:80px;border-radius:10px;border:none;padding:10px;font-size:16px}

button{
 margin-top:10px;
 background:linear-gradient(135deg,#ffd000,#ff9900);
 border:none;padding:12px 30px;
 font-size:18px;border-radius:30px;
 cursor:pointer;font-weight:bold;
}
button:hover{transform:scale(1.05)}
</style>
</head>

<body>

<div id="game">
 <div id="topBar">
   <div>‚ù§Ô∏è <div id="hpWrap"><div id="hpBar"></div></div></div>
   <div id="levelText">Level 1</div>
   <div id="leaderboard">üèÜ BXH</div>
 </div>

 <div id="questionBox">
  <div id="q"></div>
  <textarea id="ans" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi..."></textarea>
  <button onclick="submit()">V∆Ø·ª¢T QUA</button>
 </div>
</div>

<audio id="winSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_41f10929c7.mp3"></audio>
<audio id="loseSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_1b8bb6f2c5.mp3"></audio>

<script>
const levels=[
[
{q:"L√£o H·∫°c l√† nh√¢n v·∫≠t c·ªßa t√°c gi·∫£ n√†o?",keys:["nam cao"]},
{q:"C·∫≠u V√†ng l√† con v·∫≠t g√¨?",keys:["ch√≥"]},
{q:"Ho√†n c·∫£nh s·ªëng c·ªßa l√£o H·∫°c?",keys:["ngh√®o","c√¥ ƒë∆°n"]},
],
[
{q:"V√¨ sao l√£o H·∫°c b√°n C·∫≠u V√†ng?",keys:["ngh√®o","con","v∆∞·ªùn"]},
{q:"T√¢m tr·∫°ng l√£o H·∫°c sau khi b√°n ch√≥?",keys:["ƒëau","√¢n h·∫≠n","day d·ª©t"]},
{q:"√ù nghƒ©a h√¨nh t∆∞·ª£ng C·∫≠u V√†ng?",keys:["con","k·ªâ v·∫≠t","ni·ªÅm an ·ªßi"]},
],
[
{q:"Bi·ªÉu hi·ªán l√≤ng t·ª± tr·ªçng c·ªßa l√£o H·∫°c?",keys:["t·ª± tr·ªçng","kh√¥ng nh·∫≠n","ch·∫øt"]},
{q:"Vai tr√≤ √¥ng gi√°o?",keys:["nh√¢n ƒë·∫°o","ch·ª©ng ki·∫øn","k·ªÉ"]},
],
[
{q:"Gi√° tr·ªã nh√¢n ƒë·∫°o truy·ªán?",keys:["nh√¢n ƒë·∫°o","c·∫£m th√¥ng","ph·∫©m gi√°"]},
{q:"√ù nghƒ©a c√°i ch·∫øt c·ªßa l√£o H·∫°c?",keys:["t·ªë c√°o","x√£ h·ªôi","bi k·ªãch"]},
]
];

let level=0,questionIndex=0,hp=100;

function updateHP(){
 document.getElementById("hpBar").style.width=hp+"%";
 document.getElementById("levelText").innerText="Level "+(level+1);
}

function submit(){
 let a=document.getElementById("ans").value.toLowerCase();
 let k=levels[level][questionIndex].keys;
 let hit=0; k.forEach(x=>{if(a.includes(x))hit++;});

 if(hit>=2){} else{hp-=25;updateHP();}

 questionIndex++;
 next();
}

function next(){
 if(questionIndex>=levels[level].length){
  level++;questionIndex=0;
  if(level>=levels.length){end(true);return;}
  alert("üéØ Sang c·∫•p ƒë·ªô "+(level+1));
 }
 document.getElementById("q").innerText="Level "+(level+1)+" ‚Äì "+levels[level][questionIndex].q;
 document.getElementById("ans").value="";
 if(hp<=0) end(false);
}

function end(win){
 if(win){
  document.getElementById("winSound").play();
  let name=prompt("T√™n b·∫°n:");
  let board=JSON.parse(localStorage.getItem("bxh")||"[]");
  board.push({name,score:hp});
  board.sort((a,b)=>b.score-a.score);
  localStorage.setItem("bxh",JSON.stringify(board.slice(0,5)));
  alert("üéâ B·∫°n ƒë√£ c·ª©u ƒë∆∞·ª£c L√£o H·∫°c!");
 } else {
  document.getElementById("loseSound").play();
  alert("üíÄ L√£o H·∫°c g·ª•c ng√£!");
 }

 level=0;questionIndex=0;hp=100;updateHP();
 showBoard();next();
}

function showBoard(){
 let b=JSON.parse(localStorage.getItem("bxh")||"[]");
 let h="";b.forEach(x=>h+=x.name+" : "+x.score+"<br>");
 document.getElementById("leaderboard").innerHTML="üèÜ BXH<br>"+h;
}

showBoard();updateHP();next();
</script>

</body>
</html>
