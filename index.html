<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Gi·∫£i c·ª©u L√£o H·∫°c</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
 margin:0;
 font-family:Segoe UI, sans-serif;
 background:black;
}

/* GAME BACKGROUND */
#game{
 width:100vw;
 height:100vh;
 background:
 linear-gradient(rgba(0,0,0,.4),rgba(0,0,0,.85)),
 url("laohac1.jpg") center/cover no-repeat;
 position:relative;
 color:white;
 overflow:hidden;
}

/* TOP BAR */
#topBar{
 position:absolute;
 top:0;left:0;
 width:100%;
 height:60px;
 background:linear-gradient(90deg,#000,#222);
 display:flex;
 align-items:center;
 justify-content:space-between;
 padding:0 15px;
 box-sizing:border-box;
 z-index:2;
}

#hpWrap{
 width:160px;
 height:14px;
 border:2px solid #0f0;
 border-radius:10px;
 overflow:hidden;
}
#hpBar{
 height:100%;
 background:linear-gradient(to right,#00ff55,#aaff00);
 width:100%;
}

#leaderboard{
 cursor:pointer;
 color:#ffd700;
}

/* QUESTION BOX */
#questionBox{
 position:absolute;
 bottom:40px;
 left:0;
 right:0;
 margin:auto;
 width:92%;
 max-width:700px;
 background:linear-gradient(145deg,#111,#000);
 border-radius:25px;
 padding:20px;
 box-shadow:0 0 40px rgba(255,200,50,.6);
 box-sizing:border-box;
 z-index:2;
}

#q{
 font-size:20px;
 font-weight:bold;
 margin-bottom:10px;
 color:#ffd700;
}

textarea{
 width:100%;
 height:80px;
 border-radius:12px;
 border:none;
 padding:10px;
 font-size:16px;
 box-sizing:border-box;
 outline:none;
}

button{
 margin-top:10px;
 background:linear-gradient(135deg,#ffd000,#ff8c00);
 border:none;
 padding:12px 30px;
 font-size:18px;
 border-radius:30px;
 cursor:pointer;
 font-weight:bold;
 box-shadow:0 0 15px orange;
}
button:hover{transform:scale(1.05)}

/* START & GAME OVER */
#startScreen,#gameOverScreen{
 position:fixed;
 top:0;left:0;
 width:100%;
 height:100%;
 background:
 linear-gradient(rgba(0,0,0,.8),rgba(0,0,0,.9)),
 url("background.jpg") center/cover;
 display:flex;
 align-items:center;
 justify-content:center;
 z-index:10;
}
#gameOverScreen{display:none;}

.startBox{
 background:rgba(0,0,0,.9);
 padding:40px;
 border-radius:25px;
 text-align:center;
 border:2px solid gold;
 box-shadow:0 0 40px gold;
}

.startBox h1{
 color:#ffd700;
 font-size:36px;
 text-shadow:0 0 20px orange;
}

.startBox p{color:white;font-size:18px}
</style>
</head>

<body>

<div id="startScreen">
 <div class="startBox">
  <h1>GI·∫¢I C·ª®U L√ÉO H·∫†C</h1>
  <p>Tr·∫£ l·ªùi c√¢u h·ªèi ƒë·ªÉ v∆∞·ª£t ch∆∞·ªõng ng·∫°i v·∫≠t</p>
  <button onclick="startGame()">B·∫ÆT ƒê·∫¶U</button>
 </div>
</div>

<div id="gameOverScreen">
 <div class="startBox">
  <h1>GAME OVER</h1>
  <p id="finalScore"></p>
  <button onclick="startGame()">CH∆†I L·∫†I</button>
 </div>
</div>

<div id="game">

 <div id="topBar">
  <div>‚ù§Ô∏è <div id="hpWrap"><div id="hpBar"></div></div></div>
  <div id="levelText">Level 1</div>
  <div id="leaderboard" onclick="showBoard()">üèÜ BXH</div>
 </div>

 <div id="questionBox">
  <div id="q"></div>
  <textarea id="ans" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi..."></textarea>
  <button onclick="submit()">V∆Ø·ª¢T QUA</button>
 </div>

</div>

<audio id="winSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_41f10929c7.mp3"></audio>
<audio id="loseSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_1b8bb6f2c5.mp3"></audio>

<script>
const levels=[
[
{q:"L√£o H·∫°c l√† nh√¢n v·∫≠t c·ªßa t√°c gi·∫£ n√†o?",keys:["nam cao"]},
{q:"C·∫≠u V√†ng l√† con v·∫≠t g√¨?",keys:["ch√≥"]},
{q:"Ho√†n c·∫£nh s·ªëng c·ªßa l√£o H·∫°c?",keys:["ngh√®o","c√¥ ƒë∆°n"]},
],
[
{q:"V√¨ sao l√£o H·∫°c b√°n C·∫≠u V√†ng?",keys:["ngh√®o","con","v∆∞·ªùn"]},
{q:"T√¢m tr·∫°ng l√£o H·∫°c sau khi b√°n ch√≥?",keys:["ƒëau","√¢n h·∫≠n","day d·ª©t"]},
{q:"√ù nghƒ©a h√¨nh t∆∞·ª£ng C·∫≠u V√†ng?",keys:["k·ªâ v·∫≠t","ni·ªÅm an ·ªßi"]},
],
[
{q:"Bi·ªÉu hi·ªán l√≤ng t·ª± tr·ªçng c·ªßa l√£o H·∫°c?",keys:["t·ª± tr·ªçng","kh√¥ng nh·∫≠n","ch·∫øt"]},
{q:"Vai tr√≤ √¥ng gi√°o?",keys:["nh√¢n ƒë·∫°o","ch·ª©ng ki·∫øn"]},
],
[
{q:"Gi√° tr·ªã nh√¢n ƒë·∫°o truy·ªán?",keys:["nh√¢n ƒë·∫°o","c·∫£m th√¥ng"]},
{q:"√ù nghƒ©a c√°i ch·∫øt c·ªßa l√£o H·∫°c?",keys:["t·ªë c√°o","bi k·ªãch","x√£ h·ªôi"]},
]
];

let level=0,questionIndex=0,hp=100;

function updateHP(){
 document.getElementById("hpBar").style.width=hp+"%";
 document.getElementById("levelText").innerText="Level "+(level+1);
}

function submit(){
 let a=document.getElementById("ans").value.toLowerCase();
 let k=levels[level][questionIndex].keys;
 let hit=0; k.forEach(x=>{if(a.includes(x))hit++;});
 if(hit<2) hp-=25;
 updateHP();
 questionIndex++;
 next();
}

function next(){
 if(hp<=0){end(false);return;}
 if(questionIndex>=levels[level].length){
  level++;questionIndex=0;
  if(level>=levels.length){end(true);return;}
  alert("üéØ Sang c·∫•p ƒë·ªô "+(level+1));
 }
 document.getElementById("q").innerText="Level "+(level+1)+" ‚Äì "+levels[level][questionIndex].q;
 document.getElementById("ans").value="";
}

function end(win){
 if(win){
  document.getElementById("winSound").play();
  let name=prompt("T√™n b·∫°n:");
  let board=JSON.parse(localStorage.getItem("bxh")||"[]");
  board.push({name,score:hp});
  board.sort((a,b)=>b.score-a.score);
  localStorage.setItem("bxh",JSON.stringify(board.slice(0,5)));
  alert("üéâ B·∫°n ƒë√£ c·ª©u ƒë∆∞·ª£c L√£o H·∫°c!");
 } else {
  document.getElementById("loseSound").play();
  document.getElementById("finalScore").innerText="ƒêi·ªÉm c·ªßa b·∫°n: "+hp;
  document.getElementById("gameOverScreen").style.display="flex";
 }
}

function showBoard(){
 let b=JSON.parse(localStorage.getItem("bxh")||"[]");
 let h=""; b.forEach(x=>h+=x.name+" : "+x.score+"<br>");
 document.getElementById("leaderboard").innerHTML="üèÜ BXH<br>"+h;
}

function startGame(){
 document.getElementById("startScreen").style.display="none";
 document.getElementById("gameOverScreen").style.display="none";
 level=0;questionIndex=0;hp=100;
 updateHP();
 next();
}

updateHP();
</script>

</body>
</html>
